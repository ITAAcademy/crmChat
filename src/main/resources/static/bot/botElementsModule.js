"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BOT_ELEMENTS_MODULE=function(){function t(t){var e={botselect:"bot_select",botcalendar:"bot_calendar",botrating:"bot_rating",botarray:"bot_array",botinput:"bot_input",botcheckgroup:"bot_checkgroup",botradiogroup:"bot_radiogroup",bottext:"bot_text","bot-list":"bot_list",button:"bot_button",botlink:"bot_link",botsubmit:"bot_submit","bot-close":"bot_close","bot-container":"bot_container"};return e[t]}var e={},o=["botcalendar","botrating","botselect","botinput","botcheckgroup","botradiogroup","bottext","bot-list","button","botlink","botsubmit","bot-close"],r=["name","value"],n={"bot-container":{time:"00:00",content:"",callback:""},"bot-list":{horizontal:!1},botlink:{text:"empty_text",ispost:!0,linkindex:0,href:"",classes:""},botinput:{text:"empty_text",name:0},botsubmit:{text:"Submit"},botradiogroup:{labels:[],legend:"",groupname:"noname"},botcheckgroup:{labels:[],legend:"",groupname:"noname"},botClose:{},bottext:{text:"some_text",textcolor:"#000000",textsize:18,textalign:"left"},botselect:{name:"botselect",multiple:!1,options:[]},botrating:{name:"botrating",itemvalue:0,max:5,readonly:!1,text:"",starcolor:"#ffff00"},botcalendar:{name:"botcalendar",itemvalue:new Date}},i={botcalendar:{itemvalue:"date"},bottext:{textcolor:"color"},botrating:{starcolor:"color"}};return e.getBotElementPropertyType=function(t,e){var o=i[t];if("undefined"!=typeof o&&o.hasOwnProperty(e))return o[e];var r=n[t];if("undefined"==typeof r)return"string";var a=r[e];return"undefined"==typeof a?"string":getType(a)},e.ElementProperties=n,e.ElementTypes=o,e.GlobalProperties=r,e.isContainer=function(t){return"bot-container"==t||"bot-list"==t},e.getClassByElementType=t,e.ElementInstance=function(r){var i=new Object;return i.childrens=[],"bot-container"!=r&&$.inArray(r,o)==-1&&console.error("Element type not correct"),i.parent=null,i.type=r,i.id=Math.random(),i.properties=jQuery.extend(!0,{},n[r]),i.addedProperty="",i.getHTML=function(o,r){o.elementsListForLink.push(this);for(var n=o.elementsListForLink.length-1,i="",a=0;a<this.childrens.length;a++){var l=this.childrens[a].getHTML(o,r);i+=l}var s="";for(var p in this.properties){var c=this.properties[p];if("content"==p)var b=i.escapeHtml();else if("undefined"!=typeof c){var b;b="string"==typeof c?c.escapeHtml():"array"==getType(c)?JSON.stringify(c).escapeHtml():"bool"==getType(c)?c:c}"object"==("undefined"==typeof c?"undefined":_typeof(c))&&"date"!=getType(c)||"bool"==getType(c)||(b="'"+b+"'"),s+=r||"content"==p?p+'="{0}" '.format(b):p+'= "$root.this.properties.'+p+'" '}var d=" ",u="top-left",m=this.addedProperty;o.horizontalList=!1,"bot-list"==this.type&&1==this.properties.horizontal&&(o.horizontalList=!0),e.isContainer(this.type)&&(m+=' dnd-placeholder-body = "'+this.type+'" dnd-dragover="$root.dragoverCallback(event, index, external, type, $root.this)" dnd-drop="$root.dropCallback(event, index, item, external, type, $root.this)" dnd-horizontal-list = "{{horizontalList}}" dnd-list="$root.this.childrens"');var y="";y=t(this.type);var f="<li  "+'tooltip-placement="{1}" tooltip-trigger="mouseenter" uib-tooltip="{0}" class = "render-element {2}" dnd-dragstart = "$root.dragStart($root.this)" dnd-draggable="$root.this" dnd-effect-allowed="move" dnd-selected="$root.models.selected = $root.this" ng-class="{&#39;selected&#39;: $root.models.selected == $root.this}">'.format(this.type,u,y),h="</li>";r&&(d=f=h=m="");var g;g=r?f+"<{0} {1} {2}>{3}</{0}>".format(this.type,d,s+" "+m,i)+h:f+'<div class="wrap"><ul class="custom-ul" {0} = " " {1} {2}>{3}</ul></div>'.format(this.type,d,s+" "+m,i)+h;var v="elementsListForLink[{0}]".format(n);return g=g.split("this").join(v)},i},e.jqueryElementToElementInstance=function(t){for(var e=t.prop("nodeName").toLowerCase(),o=[],r=0;r<t.children().length;r++)o.push($(t.children()[r]));var n,i=BOT_ELEMENTS_MODULE.ElementInstance(e);for(var a in i.properties){var l=t.attr(a),s=getType(i.properties[a]);"undefined"!=typeof l&&(n="object"!=_typeof(i.properties[a])&&"bool"!=s?t.attr(a).slice(1,-1):l,"bool"==s?i.properties[a]=parseBoolean(n):"array"==s?i.properties[a]=JSON.parse(n):"date"==s?i.properties[a]=new Date(n):"string"==s&&(i.properties[a]=n))}for(var r=0;r<o.length;r++){var p=BOT_ELEMENTS_MODULE.jqueryElementToElementInstance(o[r]);p.parent=i,i.childrens.push(p)}return i},e.convertTextToElementInstance=function(t){var e=$("<bot-container>"+t+"</bot-container>"),o=BOT_ELEMENTS_MODULE.jqueryElementToElementInstance(e);return o},e}();