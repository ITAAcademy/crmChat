"use strict";springChatControllers.controller("ChatBotController",["$routeParams","$rootScope","$scope","$http","$location","$interval","$cookies","$timeout","toaster","ChatSocket","$cookieStore","Scopes","$q","$controller",function(e,t,o,r,n,i,a,l,c,s,u,d,h,m){o.controllerName="ChatBotController";var p=d.get("ChatController"),f=d.get("ChatRouteInterface");o.disabled=!1,(null!=p||void 0!=p&&null!=p.currentRoom)&&(o.currentRoom=p.currentRoom),null==f&&void 0==f||f.$watch("participants",function(){f.participants.length>2?(o.disabled=!0,p.currentRoom.active=!0,c.clear()):p.currentRoom.active=!1});o.giveTenant=function(){r.post(serverPrefix+"/bot_operations/close/{0}".format(p.currentRoom.roomId)).success(function(e,o,r,n){t.showToasterWaitFreeTenant()}).error(function(e,t,o,r){p.userAddedToRoom=!0,c.pop("error","Error","server request timeout",1e3)})},o.getParamsInJSON=function(e){void 0!=o.itemvalue&&(e[o.name]=JSON.stringify(o.itemvalue)||"");for(var t in o.botChildrens)o.botChildrens[t].scope.getParamsInJSON(e)},t.$watch("isInited",function(){}),o.enabledListener=function(e,t){console.log("listner"),e.$watch("disabled",function(){if(e.disabled){for(var o=0;o<t[0].children.length;o++)t[0].children[o].style.disabled="0.5",t[0].children[o].style.pointerEvents="none";t[0].style.opacity=".5",t[0].style.pointerEvents="none"}})}}]);