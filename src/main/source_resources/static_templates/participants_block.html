<div ng-init="hideEmpty = true" ng-show="participants().length > 2 || (participants().length > 1 &amp;&amp; getChatUserId() != room.authorId)" class="items_list_block top_block">
    <div class="block_head" ng-click="toggleFolded($event,participants().length-1)">
        <div  th:attr="tooltip=${lgPack.chat.addNewOpponent}"  title-direction="top-right" ng-if="checkUserAdditionPermission()" class="block_controll unfoldable_element" ng-click="toggleNewUser($event)">
        <i class="done_adding_users" ng-if="isNewUserMode()" class="material-icons">done</i>
        <img src="images/elements/add_blue.png" ng-if="!isNewUserMode()"/>
        </div>
        <div class="block_name">{{blockName}}</div>
        <div class="collapse_block_button" ng-class="{'detach':collapsed}">
            <div class="arrow_down"  ng-show="isHalfUnfoldBlockIcon()">
            <img src="images/arrow.svg"></img>
            </div>
            <div class="arrows_down" ng-show="isFullUnfoldBlockIcon()">
            <img  src="images/arrows.svg" ></img>
            </div>
            <div class="arrow_down flipped"  ng-show="isHideBlockIcon()">
            <img src="images/arrow.svg"></img>
            </div>
        </div>
    </div>
    <div id="messagesBlockScroll" class="block_content scroll ng-class:{unfolded:isFullUnfolded(),collapsed:!isUnfolded()}"
    infinite-scroll='$root.loadOtherParticipants()' can-load='!($root.participant_busy)' treshold='70' infinite-scroll-parent="true">
        <div  ng-if="getChatUserId() != participant.chatUserId" class="block_item" ng-repeat="participant in participants() | orderBy:participantsSort" ng-include="'static_templates/participants_block_item.html'" >
        </div>
    </div>
</div>
